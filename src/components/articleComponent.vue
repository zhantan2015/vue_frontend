<template>
    <article>
        <header>
            <h2 v-text="article.title"></h2>
        </header>
        <main v-html="full ? article.content : comput_content">
        </main>
        <footer>
            <span class="continue_reading">
                阅读更多
            </span>
            <div class="article_info">
                <div>
                    <svg t="1658394755012" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="2070" width="200" height="200">
                        <path
                            d="M896 448H128v447.957333l477.738667 0.021334L896 895.957333V448z m0-42.666667V192.042667C896 192 768 192 768 192V149.333333h128.042667A42.666667 42.666667 0 0 1 938.666667 192.042667v703.914666A42.624 42.624 0 0 1 896.064 938.666667H127.936A42.666667 42.666667 0 0 1 85.333333 895.957333V192.042667C85.333333 168.469333 104.256 149.333333 127.957333 149.333333H256v42.666667l-128 0.042667V405.333333h768zM298.666667 85.333333h42.666666v170.666667h-42.666666V85.333333z m384 0h42.666666v170.666667h-42.666666V85.333333zM384 149.333333h256v42.666667H384V149.333333z"
                            p-id="2071"></path>
                    </svg>
                    <span v-text="article.createTime"></span>
                </div>
                <div>
                    <svg t="1658395131742" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="3995" width="200" height="200">
                        <path
                            d="M122.065592 200.99371m-51.776224 0a50.597 50.597 0 1 0 103.552447 0 50.597 50.597 0 1 0-103.552447 0Z"
                            p-id="3996"></path>
                        <path
                            d="M122.065592 459.888132c-28.593222 0-51.776224 23.171746-51.776224 51.763944 0 28.605501 23.183002 51.774177 51.776224 51.774177 28.593222 0 51.777247-23.167652 51.777247-51.774177C173.841815 483.059877 150.658813 459.888132 122.065592 459.888132z"
                            p-id="3997"></path>
                        <path
                            d="M122.065592 770.535241c-28.593222 0-51.776224 23.183002-51.776224 51.776224 0 28.609595 23.183002 51.788503 51.776224 51.788503 28.593222 0 51.777247-23.178909 51.777247-51.788503C173.841815 793.718243 150.658813 770.535241 122.065592 770.535241z"
                            p-id="3998"></path>
                        <path d="M251.505639 796.424888l698.980555 0 0 51.776224-698.980555 0 0-51.776224Z" p-id="3999">
                        </path>
                        <path d="M251.505639 485.765499l698.980555 0 0 51.7752-698.980555 0 0-51.7752Z" p-id="4000">
                        </path>
                        <path d="M251.505639 175.105087l698.980555 0 0 51.777247-698.980555 0 0-51.777247Z" p-id="4001">
                        </path>
                    </svg>
                    <span v-text="article.category"></span>
                </div>
                <div class="tags_div" v-if="article.tags && article.tags.length > 0">
                    <svg t="1658395630613" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="4912" width="200" height="200">
                        <path
                            d="M979.067648 415.512459c0 0 0.040932-300.381301 0.040932-303.553551 0-39.417755-32.060183-71.477938-71.477938-71.477938-3.172249 0-303.543318 0.040932-303.533085 0.040932-2.128477 0-4.256954-0.010233-6.364965-0.020466-2.241041-0.010233-4.461615-0.020466-6.671956-0.020466-19.893072 0-49.947576 0-69.615521 19.657712l-463.772602 463.782835c-11.164271 11.143805-17.304108 25.971511-17.304108 41.750893 0 15.769149 6.139837 30.596855 17.293875 41.761126l354.503966 354.493733c11.143805 11.154038 25.971511 17.304108 41.750893 17.304108 15.779382 0 30.607088-6.139837 41.761126-17.293875l463.762369-463.782835c19.882839-19.862373 19.770276-48.433082 19.647479-76.052117C979.077881 419.922908 979.067648 417.7228 979.067648 415.512459zM938.155866 422.276513c0.092098 20.107967 0.163729 39.110763-7.65433 46.918589l-463.772602 463.793068c-3.417843 3.428076-7.971555 5.310959-12.811794 5.310959-4.830005 0-9.373485-1.882883-12.791327-5.310959l-354.514199-354.503966c-3.428076-3.428076-5.310959-7.971555-5.310959-12.811794s1.882883-9.373485 5.310959-12.801561l463.782835-463.782835c7.081279-7.081279 23.976064-7.674796 40.666188-7.674796 2.148943 0 4.308119 0.010233 6.487761 0.020466 2.169409 0.010233 4.349051 0.020466 6.54916 0.020466 0 0 300.360835-0.040932 303.533085-0.040932 16.84362 0 30.54569 13.70207 30.54569 30.54569 0 3.172249-0.040932 303.553551-0.040932 303.553551C938.1354 417.784198 938.145633 420.035472 938.155866 422.276513z"
                            p-id="4913"></path>
                        <path
                            d="M859.83201 220.122373c-10.478655 4.246721-22.410406-0.808412-26.657126-11.276834-2.046612-5.0449-5.055133-9.578146-8.953929-13.46671-7.705496-7.705496-17.938558-11.941983-28.836769-11.941983-10.877745 0-21.110807 4.236488-28.795836 11.93175-15.891945 15.891945-15.881712 41.750893 0.010233 57.642838 15.871479 15.881712 41.730427 15.881712 57.622372 0 7.992021-7.992021 20.957311-7.992021 28.939099 0.010233 7.992021 7.992021 7.992021 20.957311-0.010233 28.939099-15.922644 15.912411-36.839023 23.873734-57.745169 23.873734-20.926612 0-41.832757-7.961322-57.755402-23.873734-31.845289-31.855522-31.855522-83.675748-0.020466-115.53127 15.421224-15.431457 35.938514-23.924899 57.755402-23.924899 21.827121 0 42.34441 8.493441 57.775868 23.924899 7.78736 7.78736 13.824867 16.884552 17.938558 27.03575C875.345332 203.933669 870.300432 215.875652 859.83201 220.122373z"
                            p-id="4914"></path>
                    </svg>
                    <span v-for="tag in article.tags" :key="new Date().getTime()" v-text="tag"></span>
                </div>
            </div>
        </footer>
    </article>
</template>
<script setup>
import { storeToRefs } from 'pinia';
import { mainState } from '@/store'
import { computed } from '@vue/reactivity';
import { createId } from '@/assets/js/common'
import router from '@/router';

const props = defineProps(['article', 'full'])

const article = props.article

const { dark } = storeToRefs(mainState())
function continueReading() {
    router.push('/article/' + article.aid)
}

const comput_content = computed(() => {
    if (article.content.length <= 100) {
        return article.content
    }
    else {
        let str = article.content
        return str.slice(0, str.indexOf('</p>'))
    }
    return i
}
)

</script>
<style scoped lang="less">
article {
    text-align: left;

    h1 {
        font-size: 1.8rem;
    }

    main {
        font-family: Merriweather, Georgia, serif;
        margin-bottom: 1rem;

        font-size: 1rem;
        line-height: 1.75;
    }

    footer {
        span.continue_reading {
            color: #4791e6 !important;
            text-decoration: underline;
            font-family: Merriweather, Georgia, serif;
            font-weight: 600;
            display: block;
        }

        .article_info {
            display: flex;
            margin-top: 1rem;

            div {
                display: inline-flex;
                align-items: center;
                margin-right: .5rem;

                svg {
                    width: 1rem;
                    height: 1rem;
                    fill: #eff0f1;
                    margin-right: .2rem;
                }

                span {
                    display: inline-block;
                    line-height: .8rem;
                    font-size: .8rem;
                    margin-right: .1rem;
                }
            }

            .tags_div {
                span {
                    margin-right: .2rem;
                }
            }
        }
    }
}
</style>